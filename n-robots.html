<!DOCTYPE html>
<html>
  <title>Search Algorithms & Simple Robot Navigation</title>
  <body style="background-color:#002240; color:white">
  <head>
    <h1 style="color:#02FF02">Search Algorithms & Simple Robot Navigation</h1>
    <p style="text-align:justify">
      The problem of simple robot navigation involves N simple circular robots on a 2D m by n grid, an initial state specifying the 
      initial position of the robots and a goal state specifying the final position of the robots. 
    </p>
    <p style="text-align:justify">
      Using various searching algorithms, the path from the initial to goal state will be found, without any robot exiting the grid, 
      colliding or swapping places. Furthermore, the optimality, completeness, time complexity and space complexity of each algorithm
      will be compared.
    </p>
  </head>
 
  <h1 style="color:#02FF02">Formalization</h1>
  <p style="text-align:justify">
  The grid is represented by an m by n matrix in which each element is the x-y coordinate location of each cell in the grid.
  </P>
  <p style="text-align:center"> <img style="width:372px; height:343px" src="grid.png"/></p>
  <p style="text-align:justify">
    Each robot is given an integer identifier j. The cell in which the jth robot is located is called a substate. 
    The state of N robots is a list of all substates indexed by j in ascending order.
    Each robot j has a set of available actions which contain reachable or final substates after moving left, right, up or down 
    by one unit on the grid, given its current or initial substate.
    The reachable states of N robots is a set of all valid states containing all possible combinations of reachable substates,
    given the current or initial state. This is called the successor set.
  </p>
  <p style="text-align:center"><img style="width:450px; height:110px" src="defs.png"/></p>
  <p style="text-align:justify">
    Not all substates and states are valid. The following restrictions apply: (1) robots move by one grid unit,
    (2) robots cannot exit the grid, (3) robots cannot collide or share position and (4) robots cannot swap places.
  </p>
  <p style="text-align:center"><img style="width:514px; height:272px" src="conditions.png"/></p>
  <h1 style="color:#02FF02">Writing the Problem in Python</h1>
  <p>
    The problem is defined below in Python given an initial state, a goal state, m and n.
  </p>
  
  <div style="height:300px; overflow:auto; font-family:courier">
<table class="table"><tr><td><div class="linenodiv" style="background-color: #454545; padding-right: 10px"><pre style="line-height: 125%"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87</pre></div></td><td class="code"><div style="background: #002240"><pre style="line-height: 125%"><span></span><span style="color: #FF8000">class</span> <span style="color: #5E5EFF">Problem</span> :
    <span style="color: #02FF02">&#39;&#39;&#39;</span>
<span style="color: #02FF02">    +------------------------------------------------------------+</span>
<span style="color: #02FF02">    |                 N Robots on an m x n Grid                  |</span>
<span style="color: #02FF02">    +------------+-----------------------------------------------+</span>
<span style="color: #02FF02">    | Substate j | Position of Robot j: ( xj, yj )               |</span>
<span style="color: #02FF02">    +------------+-----------------------------------------------+</span>
<span style="color: #02FF02">    | State N    | [ Substate 1, Substate 2, ..., Substate N ]   |</span>
<span style="color: #02FF02">    +------------+-----------------------------------------------+</span>
<span style="color: #02FF02">    | Actions ji | { Substate jf1, Substate jf2, ... }           |</span>
<span style="color: #02FF02">    +------------+-----------------------------------------------+</span>
<span style="color: #02FF02">    | Successor  | { State Nf1, State Nf2, ... }                 |</span>
<span style="color: #02FF02">    +------------+-----------------------------------------------+</span>
<span style="color: #02FF02">    | Conditions | (1) Robots move by one grid unit:             |</span>
<span style="color: #02FF02">    |            |     (a) xi - 1 &lt;= xf &lt;= xi + 1                |</span>
<span style="color: #02FF02">    |            |     (b) yi - 1 &lt;= yf &lt;= yi + 1                |</span>
<span style="color: #02FF02">    |            | (2) Robots cannot exit the grid:              |</span>
<span style="color: #02FF02">    |            |     (a) 1 &lt;= xj &lt;= m                          |</span>
<span style="color: #02FF02">    |            |     (b) 1 &lt;= yj &lt;= n                          |</span>
<span style="color: #02FF02">    |            | (3) Robots cannot collide or share position:  |</span>
<span style="color: #02FF02">    |            |     (a) Count( Substate j ) = 1.              |</span>
<span style="color: #02FF02">    |            | (4) Robots cannot swap places:                |</span>
<span style="color: #02FF02">    |            |     (a) ( Substate ji, Substate ki )          |</span>
<span style="color: #02FF02">    |            |         != ( Substate kf, Substate jf );      |</span>
<span style="color: #02FF02">    |            |     (b) j &lt; k.                                |</span>
<span style="color: #02FF02">    +------------+-----------------------------------------------+</span>
<span style="color: #02FF02">    &#39;&#39;&#39;</span>
    <span style="color: #FF8000">def</span> <span style="color: #5E5EFF">__init__</span>( <span style="color: #FF69B4">self</span>, <span style="color: #FFFFFF">init</span>, <span style="color: #FFFFFF">goal</span>, <span style="color: #FFFFFF">m</span>, <span style="color: #FFFFFF">n</span> ) :
        <span style="color: #FF69B4">self</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">m</span> <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">m</span>
        <span style="color: #FF69B4">self</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">n</span> <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">n</span>
        <span style="color: #FF69B4">self</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">init</span> <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">init</span>
        <span style="color: #FF69B4">self</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">goal</span> <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">goal</span>
        <span style="color: #FF69B4">self</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">robots</span> <span style="color: #FF8000">=</span> <span style="color: #FF69B4">len</span>( <span style="color: #FFFFFF">init</span> )
    
    <span style="color: #FF8000">def</span> <span style="color: #5E5EFF">successor</span>( <span style="color: #FF69B4">self</span>, <span style="color: #FFFFFF">state</span> ) :
        <span style="color: #02FF02">&#39;&#39;&#39; </span>
<span style="color: #02FF02">        Generates set of reachable states from the current state </span>
<span style="color: #02FF02">        &#39;&#39;&#39;</span>
        <span style="color: #FFFFFF">swap</span> <span style="color: #FF8000">=</span> <span style="color: #FF69B4">set</span>() <span style="color: #DD0000"># { ( Substate ji, Substate ki ), ... }</span>
                     <span style="color: #DD0000"># j &lt; k.</span>
        <span style="color: #FF8000">for</span> <span style="color: #FFFFFF">j</span> <span style="color: #FF8000">in</span> <span style="color: #FF69B4">range</span>( <span style="color: #FF69B4">self</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">robots</span> ) :
            <span style="color: #FFFFFF">sub_ji</span> <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">state</span>[ <span style="color: #FFFFFF">j</span> ]
            <span style="color: #FF8000">for</span> <span style="color: #FFFFFF">sub_ki</span> <span style="color: #FF8000">in</span> <span style="color: #FFFFFF">state</span>[ <span style="color: #FFFFFF">j</span> <span style="color: #FF8000">+</span> <span style="color: #FF00FF">1</span> : ] :
                <span style="color: #FFFFFF">swap</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">add</span>( ( <span style="color: #FFFFFF">sub_ji</span>, <span style="color: #FFFFFF">sub_ki</span> ) )
        <span style="color: #FFFFFF">acts</span> <span style="color: #FF8000">=</span> [] <span style="color: #DD0000"># Substates reachable to each</span>
                  <span style="color: #DD0000"># robot j, indexed by robot</span>
        <span style="color: #DD0000"># Generating actions for each robot j</span>
        <span style="color: #FF8000">for</span> <span style="color: #FFFFFF">sub</span> <span style="color: #FF8000">in</span> <span style="color: #FFFFFF">state</span> :
            <span style="color: #FFFFFF">acts_j</span> <span style="color: #FF8000">=</span> <span style="color: #FF69B4">set</span>()
            <span style="color: #DD0000"># (1) Robots move by one grid unit</span>
            <span style="color: #FF8000">for</span> <span style="color: #FFFFFF">act</span> <span style="color: #FF8000">in</span> [ <span style="color: #FF00FF">0</span>, <span style="color: #FF00FF">1</span> , <span style="color: #FF8000">-</span><span style="color: #FF00FF">1</span> ] :
                <span style="color: #FFFFFF">xi</span>, <span style="color: #FFFFFF">yi</span> <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">sub</span>[ <span style="color: #FF00FF">0</span> ], <span style="color: #FFFFFF">sub</span>[ <span style="color: #FF00FF">1</span> ]
                <span style="color: #FFFFFF">xf</span>, <span style="color: #FFFFFF">yf</span> <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">sub</span>[ <span style="color: #FF00FF">0</span> ] <span style="color: #FF8000">+</span> <span style="color: #FFFFFF">act</span>, <span style="color: #FFFFFF">sub</span>[ <span style="color: #FF00FF">1</span> ] <span style="color: #FF8000">+</span> <span style="color: #FFFFFF">act</span>
                <span style="color: #DD0000"># (2) Robot cannot move outside grid</span>
                <span style="color: #FF8000">if</span> <span style="color: #FF00FF">1</span> <span style="color: #FF8000">&lt;=</span> <span style="color: #FFFFFF">xf</span> <span style="color: #FF8000">&lt;=</span> <span style="color: #FF69B4">self</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">m</span> <span style="color: #FF8000">and</span> <span style="color: #FF00FF">1</span> <span style="color: #FF8000">&lt;=</span> <span style="color: #FFFFFF">yi</span> <span style="color: #FF8000">&lt;=</span> <span style="color: #FF69B4">self</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">n</span> : 
                    <span style="color: #FFFFFF">acts_j</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">add</span>( ( <span style="color: #FFFFFF">xf</span>, <span style="color: #FFFFFF">yi</span> ) )
                <span style="color: #FF8000">if</span> <span style="color: #FF00FF">1</span> <span style="color: #FF8000">&lt;=</span> <span style="color: #FFFFFF">xi</span> <span style="color: #FF8000">&lt;=</span> <span style="color: #FF69B4">self</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">m</span> <span style="color: #FF8000">and</span> <span style="color: #FF00FF">1</span> <span style="color: #FF8000">&lt;=</span> <span style="color: #FFFFFF">yf</span> <span style="color: #FF8000">&lt;=</span> <span style="color: #FF69B4">self</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">n</span> : 
                    <span style="color: #FFFFFF">acts_j</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">add</span>( ( <span style="color: #FFFFFF">xi</span>, <span style="color: #FFFFFF">yf</span> ) )
            <span style="color: #FFFFFF">acts</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">append</span>( <span style="color: #FFFFFF">acts_j</span> )
        <span style="color: #FFFFFF">succ</span> <span style="color: #FF8000">=</span> []
        <span style="color: #FF8000">def</span> <span style="color: #5E5EFF">combine</span>( <span style="color: #FFFFFF">acts</span>, <span style="color: #FFFFFF">j</span> <span style="color: #FF8000">=</span> <span style="color: #FF00FF">0</span>, <span style="color: #FFFFFF">state_jf</span> <span style="color: #FF8000">=</span> [] ) :
            <span style="color: #02FF02">&#39;&#39;&#39; </span>
<span style="color: #02FF02">            Generates N nested for loops to</span>
<span style="color: #02FF02">            combine all possible actions</span>
<span style="color: #02FF02">            &#39;&#39;&#39;</span>
            <span style="color: #FF8000">if</span> <span style="color: #FFFFFF">j</span> <span style="color: #FF8000">==</span> <span style="color: #FF69B4">self</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">robots</span> :
                <span style="color: #DD0000"># (4) Robots cannot swap places</span>
                <span style="color: #FF8000">for</span> <span style="color: #FFFFFF">j</span> <span style="color: #FF8000">in</span> <span style="color: #FF69B4">range</span>( <span style="color: #FF69B4">self</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">robots</span> ) :
                    <span style="color: #FFFFFF">sub_jf</span> <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">state_jf</span>[ <span style="color: #FFFFFF">j</span> ]
                    <span style="color: #FF8000">for</span> <span style="color: #FFFFFF">sub_kf</span> <span style="color: #FF8000">in</span> <span style="color: #FFFFFF">state_jf</span>[ <span style="color: #FFFFFF">j</span> <span style="color: #FF8000">+</span> <span style="color: #FF00FF">1</span> : ] :
                        <span style="color: #DD0000"># ( Substate ji, Substate ki ) </span>
                        <span style="color: #DD0000"># != ( Substate kf, Substate jf )</span>
                        <span style="color: #FF8000">if</span> ( <span style="color: #FFFFFF">sub_kf</span>, <span style="color: #FFFFFF">sub_jf</span> ) <span style="color: #FF8000">in</span> <span style="color: #FFFFFF">swap</span> :
                            <span style="color: #FF8000">return</span> <span style="color: #DD0000"># Break all loops</span>
                <span style="color: #FF8000">return</span> <span style="color: #FFFFFF">succ</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">append</span>( <span style="color: #FF69B4">tuple</span>( <span style="color: #FFFFFF">state_jf</span> ) )
            <span style="color: #FF8000">for</span> <span style="color: #FFFFFF">sub_kf</span> <span style="color: #FF8000">in</span> <span style="color: #FFFFFF">acts</span>[ <span style="color: #FFFFFF">j</span> ] : 
                <span style="color: #DD0000"># (3) Robots cannot collide</span>
                <span style="color: #FF8000">if</span> <span style="color: #FFFFFF">sub_kf</span> <span style="color: #FF8000">not</span> <span style="color: #FF8000">in</span> <span style="color: #FFFFFF">state_jf</span> :
                    <span style="color: #FFFFFF">combine</span>( <span style="color: #FFFFFF">acts</span>, <span style="color: #FFFFFF">j</span> <span style="color: #FF8000">+</span> <span style="color: #FF00FF">1</span>, <span style="color: #FFFFFF">state_jf</span> <span style="color: #FF8000">+</span> [ <span style="color: #FFFFFF">sub_kf</span> ] )
        <span style="color: #FFFFFF">combine</span>( <span style="color: #FFFFFF">acts</span> )
        <span style="color: #FF8000">return</span> <span style="color: #FF69B4">set</span>( <span style="color: #FFFFFF">succ</span> )

    <span style="color: #FF8000">def</span> <span style="color: #5E5EFF">goal_test</span>( <span style="color: #FF69B4">self</span>, <span style="color: #FFFFFF">state</span> ) :
        <span style="color: #02FF02">&#39;&#39;&#39; True if the state is a goal. &#39;&#39;&#39;</span>
        <span style="color: #FF69B4">self</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">state</span>  <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">state</span>
        <span style="color: #FF69B4">self</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">parent</span> <span style="color: #FF8000">=</span> <span style="color: #FF69B4">None</span>
        <span style="color: #FF8000">return</span> <span style="color: #FFFFFF">state</span> <span style="color: #FF8000">==</span> <span style="color: #FF69B4">self</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">goal</span>
</pre></div>
</td></tr></table>
  </div>
  
  <h1 style="color:#02FF02">Nodes and Tree Data Structure</h1>
  <p style="text-align:justify">
    To solve the problem using a search tree, the node and tree data structure should be defined.
    Tree structures are composed of nodes. A single node has a single parent node and one or more
    child nodes, for which it is the parent node. The branches extending from parent to child nodes create
    what looks like an upside down tree in which the root node is at the top. The root node is the only node
    that has no parent and represents the grandparent of all nodes in the tree. The degree of a node is the
    number of children of the node. The depth of the node is the number of parent nodes above it. 
    Sibling nodes are nodes that share the same parent. Leaf nodes are the bottommost nodes, which have no children.
    The path of a node is its lineage to the root node.
</p>
<p style="text-align:justify">
  For this problem, each node represents a state. The child nodes represent the states reachable from the parent node.
  The branch connecting the parent node to the child node represents the action taken. The initial state
  is the root node, and the goal state is a leaf node. The solution is the path from the root node to the leaf node representing
  the goal state.
</p>
<h1 style="color:#02FF02">Writing the Tree in Python</h1>
<p style="text-align:justify">
  This script defines a node which is used to create the tree. New parameters are the count and number.
  Number is the number of the node, which is used to uniquely identify it. This is necessary when graphing the 
  tree, because reachable states can be repeated throughout the tree and cannot be used to uniquely identify the node.
  The count is the number of the node in relation to its siblings. This is used to determine the horizontal position of 
  the node in the tree when graphing. The path cost will be explained later.
</p>
  <div style="height:300px; overflow:auto; font-family:courier">
  <table class="table"><tr><td><div class="linenodiv" style="background-color: #454545; padding-right: 10px"><pre style="line-height: 125%"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47</pre></div></td><td class="code"><div style="background: #002240"><pre style="line-height: 125%"><span></span><span style="color: #FF8000">class</span> <span style="color: #5E5EFF">Node</span> :
    <span style="color: #FF8000">def</span> <span style="color: #5E5EFF">__init__</span>( <span style="color: #FF69B4">self</span>, <span style="color: #FFFFFF">state</span>,
                  <span style="color: #FFFFFF">parent</span>   <span style="color: #FF8000">=</span> <span style="color: #FF69B4">None</span>,
                  <span style="color: #FFFFFF">children</span> <span style="color: #FF8000">=</span> <span style="color: #FF00FF">0</span>,
                  <span style="color: #FFFFFF">pathcost</span> <span style="color: #FF8000">=</span> <span style="color: #FF00FF">0</span>,
                  <span style="color: #FFFFFF">count</span>    <span style="color: #FF8000">=</span> <span style="color: #FF00FF">0</span>,
                  <span style="color: #FFFFFF">number</span>   <span style="color: #FF8000">=</span> <span style="color: #FF00FF">0</span> ) :
        <span style="color: #02FF02">&#39;&#39;&#39; Create a search tree node &#39;&#39;&#39;</span>
        <span style="color: #FF69B4">self</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">state</span>    <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">state</span>
        <span style="color: #FF69B4">self</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">parent</span>   <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">parent</span>
        <span style="color: #FF69B4">self</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">children</span> <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">children</span>
        <span style="color: #FF69B4">self</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">pathcost</span> <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">pathcost</span>
        <span style="color: #FF69B4">self</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">count</span>    <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">count</span>
        <span style="color: #FF69B4">self</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">number</span>   <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">number</span> 

    <span style="color: #FF8000">def</span> <span style="color: #5E5EFF">reverse</span>( <span style="color: #FF69B4">self</span>, <span style="color: #FFFFFF">l</span> ) :
        <span style="color: #FF8000">return</span> <span style="color: #FFFFFF">l</span>[ ::<span style="color: #FF8000">-</span><span style="color: #FF00FF">1</span> ]
    
    <span style="color: #FF8000">def</span> <span style="color: #5E5EFF">lineage</span>( <span style="color: #FF69B4">self</span>, <span style="color: #FFFFFF">child</span> ) :
        <span style="color: #02FF02">&#39;&#39;&#39;</span>
<span style="color: #02FF02">        Generates the product of the count of all</span>
<span style="color: #02FF02">        parent nodes and their children, used to</span>
<span style="color: #02FF02">        contrict the spread of the lower branches</span>
<span style="color: #02FF02">        of the tree when graphing</span>
<span style="color: #02FF02">        &#39;&#39;&#39;</span>
        <span style="color: #FFFFFF">n</span> <span style="color: #FF8000">=</span> <span style="color: #FF00FF">1</span>
        <span style="color: #FF8000">while</span> <span style="color: #FFFFFF">child</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">parent</span> :
            <span style="color: #FFFFFF">parent</span> <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">child</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">parent</span>
            <span style="color: #FFFFFF">n</span> <span style="color: #FF8000">*=</span> <span style="color: #FFFFFF">parent</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">children</span>
            <span style="color: #FFFFFF">child</span> <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">parent</span>
        <span style="color: #FF8000">return</span> <span style="color: #FFFFFF">n</span>

    <span style="color: #FF8000">def</span> <span style="color: #5E5EFF">path</span>( <span style="color: #FF69B4">self</span>, <span style="color: #FFFFFF">child</span> ) :
        <span style="color: #02FF02">&#39;&#39;&#39; </span>
<span style="color: #02FF02">        Returns dictionary storing chosen states </span>
<span style="color: #02FF02">        and the identifiers for the chosen nodes</span>
<span style="color: #02FF02">        &#39;&#39;&#39;</span>
        <span style="color: #FFFFFF">path</span> <span style="color: #FF8000">=</span> { <span style="color: #02FF02">&#39;path&#39;</span>   : [  <span style="color: #FFFFFF">child</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">state</span> ], 
                 <span style="color: #02FF02">&#39;number&#39;</span> : [ <span style="color: #FFFFFF">child</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">number</span> ] }
        <span style="color: #FF8000">while</span> <span style="color: #FFFFFF">child</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">parent</span> :
            <span style="color: #FFFFFF">parent</span> <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">child</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">parent</span>
            <span style="color: #FFFFFF">path</span>[ <span style="color: #02FF02">&#39;path&#39;</span>   ]<span style="color: #FF8000">.</span><span style="color: #FFFFFF">append</span>(  <span style="color: #FFFFFF">parent</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">state</span> )
            <span style="color: #FFFFFF">path</span>[ <span style="color: #02FF02">&#39;number&#39;</span> ]<span style="color: #FF8000">.</span><span style="color: #FFFFFF">append</span>( <span style="color: #FFFFFF">parent</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">number</span> )
            <span style="color: #FFFFFF">child</span>  <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">parent</span>
        <span style="color: #FFFFFF">path</span>[ <span style="color: #02FF02">&#39;path&#39;</span>   ] <span style="color: #FF8000">=</span> <span style="color: #FF69B4">self</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">reverse</span>( <span style="color: #FFFFFF">path</span>[   <span style="color: #02FF02">&#39;path&#39;</span> ] )
        <span style="color: #FFFFFF">path</span>[ <span style="color: #02FF02">&#39;number&#39;</span> ] <span style="color: #FF8000">=</span> <span style="color: #FF69B4">self</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">reverse</span>( <span style="color: #FFFFFF">path</span>[ <span style="color: #02FF02">&#39;number&#39;</span> ] )
        <span style="color: #FF8000">return</span> <span style="color: #FFFFFF">path</span>
</pre></div>
</td></tr></table>
  </div>
<h1 style="color:#02FF02">Graphing and Animating the Search Process</h1>
<p style="text-align:justify">
  Graphing and animating the search process is used to visualize how the algorithms work. 
  This class generates a png of the search tree and the current path of the robot on the grid, given a node.
  The tree and path are generated incrementally with each node processed. The png files are then turned into
  a gif animation outside of Python.
</p>
  <div style="height:300px; overflow:auto; font-family:courier">
  <table class="table"><tr><td><div class="linenodiv" style="background-color: #454545; padding-right: 10px"><pre style="line-height: 125%">  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127</pre></div></td><td class="code"><div style="background: #002240"><pre style="line-height: 125%"><span></span><span style="color: #FF8000">import</span> <span style="color: #FFFFFF">matplotlib.pyplot</span> <span style="color: #FF8000">as</span> <span style="color: #FFFFFF">plt</span>
<span style="color: #FF8000">import</span> <span style="color: #FFFFFF">matplotlib.patheffects</span> <span style="color: #FF8000">as</span> <span style="color: #FFFFFF">pe</span>

<span style="color: #FF8000">class</span> <span style="color: #5E5EFF">Graph</span> :
    <span style="color: #FF8000">def</span> <span style="color: #5E5EFF">__init__</span>( <span style="color: #FF69B4">self</span> ) :
        <span style="color: #FF69B4">self</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">graph</span> <span style="color: #FF8000">=</span> []
        <span style="color: #FF69B4">self</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">coord</span> <span style="color: #FF8000">=</span> {}
        
    <span style="color: #FF8000">def</span> <span style="color: #5E5EFF">grid</span>( <span style="color: #FF69B4">self</span>, <span style="color: #FFFFFF">node</span>, <span style="color: #FFFFFF">m</span>, <span style="color: #FFFFFF">n</span> ) :
        <span style="color: #02FF02">&#39;&#39;&#39; Graphs the path on a grid &#39;&#39;&#39;</span>
        <span style="color: #DD0000"># Getting path to state</span>
        <span style="color: #FFFFFF">path</span> <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">node</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">path</span>( <span style="color: #FFFFFF">node</span> )[ <span style="color: #02FF02">&#39;path&#39;</span> ]
        <span style="color: #FFFFFF">coords</span> <span style="color: #FF8000">=</span> [ [] <span style="color: #FF8000">for</span> <span style="color: #FFFFFF">rj</span> <span style="color: #FF8000">in</span> <span style="color: #FF69B4">range</span>( <span style="color: #FF69B4">len</span>( <span style="color: #FFFFFF">path</span>[ <span style="color: #FF00FF">0</span> ] ) ) ]
        <span style="color: #FF8000">for</span> <span style="color: #FFFFFF">state</span> <span style="color: #FF8000">in</span> <span style="color: #FFFFFF">path</span> :
            <span style="color: #FFFFFF">j</span> <span style="color: #FF8000">=</span> <span style="color: #FF00FF">0</span>
            <span style="color: #FF8000">for</span> <span style="color: #FFFFFF">rj_loc</span> <span style="color: #FF8000">in</span> <span style="color: #FFFFFF">state</span> :
                <span style="color: #FFFFFF">xj</span>, <span style="color: #FFFFFF">yj</span> <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">rj_loc</span>[ <span style="color: #FF00FF">0</span> ], <span style="color: #FFFFFF">n</span> <span style="color: #FF8000">+</span> <span style="color: #FF00FF">1</span> <span style="color: #FF8000">-</span> <span style="color: #FFFFFF">rj_loc</span>[ <span style="color: #FF00FF">1</span> ]
                <span style="color: #FFFFFF">coords</span>[ <span style="color: #FFFFFF">j</span> ]<span style="color: #FF8000">.</span><span style="color: #FFFFFF">append</span>( ( <span style="color: #FFFFFF">xj</span>, <span style="color: #FFFFFF">yj</span> ) )
                <span style="color: #FFFFFF">j</span> <span style="color: #FF8000">+=</span> <span style="color: #FF00FF">1</span>
        <span style="color: #FFFFFF">plt</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">clf</span>() <span style="color: #DD0000"># Clear current figure</span>
        <span style="color: #DD0000"># Robot colors</span>
        <span style="color: #FFFFFF">color</span> <span style="color: #FF8000">=</span> [ <span style="color: #02FF02">&#39;#FF00FF&#39;</span>, <span style="color: #02FF02">&#39;#FF8000&#39;</span>, 
                  <span style="color: #02FF02">&#39;#DD0000&#39;</span>, <span style="color: #02FF02">&#39;#02FF02&#39;</span>,
                  <span style="color: #02FF02">&#39;#5E5EFF&#39;</span>, <span style="color: #02FF02">&#39;#FF69B4&#39;</span> ]
        <span style="color: #DD0000"># Plotting the path to state</span>
        <span style="color: #FFFFFF">j</span> <span style="color: #FF8000">=</span> <span style="color: #FF00FF">0</span>
        <span style="color: #FF8000">for</span> <span style="color: #FFFFFF">rj</span> <span style="color: #FF8000">in</span> <span style="color: #FFFFFF">coords</span> :
            <span style="color: #FFFFFF">path</span> <span style="color: #FF8000">=</span> <span style="color: #FF69B4">list</span>( <span style="color: #FF69B4">zip</span>( <span style="color: #FF8000">*</span><span style="color: #FFFFFF">rj</span> ) )
            <span style="color: #FFFFFF">plt</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">plot</span>( <span style="color: #FF8000">*</span><span style="color: #FFFFFF">path</span>, <span style="color: #FFFFFF">marker</span> <span style="color: #FF8000">=</span> <span style="color: #02FF02">&#39;o&#39;</span>, <span style="color: #FFFFFF">color</span> <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">color</span>[ <span style="color: #FFFFFF">j</span> <span style="color: #FF8000">%</span> <span style="color: #FF00FF">6</span> ],
                      <span style="color: #FFFFFF">alpha</span> <span style="color: #FF8000">=</span> <span style="color: #FF00FF">0.5</span>, <span style="color: #FFFFFF">linewidth</span> <span style="color: #FF8000">=</span> <span style="color: #FF00FF">10</span>, <span style="color: #FFFFFF">markersize</span> <span style="color: #FF8000">=</span> <span style="color: #FF00FF">40</span> )
            <span style="color: #FFFFFF">j</span> <span style="color: #FF8000">+=</span> <span style="color: #FF00FF">1</span>
        <span style="color: #FFFFFF">effect</span> <span style="color: #FF8000">=</span> [ <span style="color: #FFFFFF">pe</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">Stroke</span>( <span style="color: #FFFFFF">linewidth</span> <span style="color: #FF8000">=</span> <span style="color: #FF00FF">5</span>, 
                      <span style="color: #FFFFFF">foreground</span> <span style="color: #FF8000">=</span> <span style="color: #02FF02">&#39;white&#39;</span> ),
                   <span style="color: #FFFFFF">pe</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">Normal</span>() ]
        <span style="color: #DD0000"># Plotting each robot&#39;s location</span>
        <span style="color: #FFFFFF">j</span> <span style="color: #FF8000">=</span> <span style="color: #FF00FF">0</span>
        <span style="color: #FF8000">for</span> <span style="color: #FFFFFF">rj</span> <span style="color: #FF8000">in</span> <span style="color: #FFFFFF">node</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">state</span> :
            <span style="color: #FFFFFF">xj</span>, <span style="color: #FFFFFF">yj</span> <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">rj</span>[ <span style="color: #FF00FF">0</span> ], <span style="color: #FFFFFF">n</span> <span style="color: #FF8000">+</span> <span style="color: #FF00FF">1</span> <span style="color: #FF8000">-</span> <span style="color: #FFFFFF">rj</span>[ <span style="color: #FF00FF">1</span> ]
            <span style="color: #FFFFFF">plt</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">plot</span>( <span style="color: #FFFFFF">xj</span>, <span style="color: #FFFFFF">yj</span>, <span style="color: #FFFFFF">marker</span> <span style="color: #FF8000">=</span> <span style="color: #02FF02">&#39;o&#39;</span>, <span style="color: #FFFFFF">color</span> <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">color</span>[ <span style="color: #FFFFFF">j</span> <span style="color: #FF8000">%</span> <span style="color: #FF00FF">6</span> ],
                      <span style="color: #FFFFFF">markersize</span> <span style="color: #FF8000">=</span> <span style="color: #FF00FF">40</span>, <span style="color: #FFFFFF">path_effects</span> <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">effect</span> )
            <span style="color: #FFFFFF">j</span> <span style="color: #FF8000">+=</span> <span style="color: #FF00FF">1</span>
        <span style="color: #FFFFFF">plt</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">grid</span>( <span style="color: #FFFFFF">b</span> <span style="color: #FF8000">=</span> <span style="color: #FF69B4">True</span>, <span style="color: #FFFFFF">color</span> <span style="color: #FF8000">=</span> <span style="color: #02FF02">&#39;white&#39;</span>, <span style="color: #FFFFFF">linewidth</span> <span style="color: #FF8000">=</span> <span style="color: #FF00FF">5</span> )
        <span style="color: #FFFFFF">ax</span> <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">plt</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">gca</span>()
        <span style="color: #FFFFFF">ax</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">set_xticks</span>( 
            [ <span style="color: #FFFFFF">i</span> <span style="color: #FF8000">for</span> <span style="color: #FFFFFF">i</span> <span style="color: #FF8000">in</span> <span style="color: #FF69B4">range</span>( <span style="color: #FF00FF">1</span>, <span style="color: #FFFFFF">m</span> <span style="color: #FF8000">+</span> <span style="color: #FF00FF">1</span> ) ], <span style="color: #FFFFFF">minor</span> <span style="color: #FF8000">=</span> <span style="color: #FF69B4">True</span> )
        <span style="color: #FFFFFF">ax</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">set_xticklabels</span>( 
            [ <span style="color: #FF69B4">str</span>( <span style="color: #FFFFFF">i</span> ) <span style="color: #FF8000">for</span> <span style="color: #FFFFFF">i</span> <span style="color: #FF8000">in</span> <span style="color: #FF69B4">range</span>( <span style="color: #FF00FF">1</span>, <span style="color: #FFFFFF">m</span> <span style="color: #FF8000">+</span> <span style="color: #FF00FF">1</span> ) ], <span style="color: #FFFFFF">minor</span> <span style="color: #FF8000">=</span> <span style="color: #FF69B4">True</span> )
        <span style="color: #FFFFFF">ax</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">set_yticks</span>( 
            [ <span style="color: #FFFFFF">i</span> <span style="color: #FF8000">for</span> <span style="color: #FFFFFF">i</span> <span style="color: #FF8000">in</span> <span style="color: #FF69B4">range</span>( <span style="color: #FF00FF">1</span>, <span style="color: #FFFFFF">n</span> <span style="color: #FF8000">+</span> <span style="color: #FF00FF">1</span> ) ], <span style="color: #FFFFFF">minor</span> <span style="color: #FF8000">=</span> <span style="color: #FF69B4">True</span>)
        <span style="color: #FFFFFF">ax</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">set_yticklabels</span>( 
            [ <span style="color: #FF69B4">str</span>( <span style="color: #FFFFFF">i</span> ) <span style="color: #FF8000">for</span> <span style="color: #FFFFFF">i</span> <span style="color: #FF8000">in</span> <span style="color: #FF69B4">range</span>( <span style="color: #FFFFFF">n</span>, <span style="color: #FF00FF">0</span>, <span style="color: #FF8000">-</span><span style="color: #FF00FF">1</span> ) ], <span style="color: #FFFFFF">minor</span> <span style="color: #FF8000">=</span> <span style="color: #FF69B4">True</span> )
        <span style="color: #FFFFFF">ax</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">set_xticks</span>( 
            [ <span style="color: #FFFFFF">i</span> <span style="color: #FF8000">+</span> <span style="color: #FF00FF">0.5</span> <span style="color: #FF8000">for</span> <span style="color: #FFFFFF">i</span> <span style="color: #FF8000">in</span> <span style="color: #FF69B4">range</span>( <span style="color: #FFFFFF">m</span> <span style="color: #FF8000">+</span> <span style="color: #FF00FF">1</span> ) ], <span style="color: #FFFFFF">minor</span> <span style="color: #FF8000">=</span> <span style="color: #FF69B4">False</span> )
        <span style="color: #FFFFFF">ax</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">set_yticks</span>( 
            [ <span style="color: #FFFFFF">i</span> <span style="color: #FF8000">+</span> <span style="color: #FF00FF">0.5</span> <span style="color: #FF8000">for</span> <span style="color: #FFFFFF">i</span> <span style="color: #FF8000">in</span> <span style="color: #FF69B4">range</span>( <span style="color: #FFFFFF">n</span> <span style="color: #FF8000">+</span> <span style="color: #FF00FF">1</span> ) ], <span style="color: #FFFFFF">minor</span> <span style="color: #FF8000">=</span> <span style="color: #FF69B4">False</span> )
        <span style="color: #FFFFFF">ax</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">tick_params</span>( <span style="color: #FFFFFF">color</span> <span style="color: #FF8000">=</span> <span style="color: #02FF02">&#39;none&#39;</span>, <span style="color: #FFFFFF">labelcolor</span> <span style="color: #FF8000">=</span> <span style="color: #02FF02">&#39;#02FF02&#39;</span>, 
                        <span style="color: #FFFFFF">labelsize</span> <span style="color: #FF8000">=</span> <span style="color: #FF00FF">20</span>, <span style="color: #FFFFFF">labeltop</span> <span style="color: #FF8000">=</span> <span style="color: #FF69B4">True</span>, 
                        <span style="color: #FFFFFF">labelbottom</span> <span style="color: #FF8000">=</span> <span style="color: #FF69B4">False</span>, <span style="color: #FFFFFF">which</span> <span style="color: #FF8000">=</span> <span style="color: #02FF02">&#39;minor&#39;</span> )
        <span style="color: #FFFFFF">ax</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">tick_params</span>( <span style="color: #FFFFFF">colors</span> <span style="color: #FF8000">=</span> <span style="color: #02FF02">&#39;none&#39;</span>, <span style="color: #FFFFFF">which</span> <span style="color: #FF8000">=</span> <span style="color: #02FF02">&#39;major&#39;</span> )
        <span style="color: #FFFFFF">ax</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">set_facecolor</span>( <span style="color: #02FF02">&#39;none&#39;</span> )
        <span style="color: #FFFFFF">plt</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">savefig</span>( <span style="color: #02FF02">&#39;grid{}.png&#39;</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">format</span>( <span style="color: #FFFFFF">node</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">number</span> ),
                     <span style="color: #FFFFFF">dpi</span> <span style="color: #FF8000">=</span> <span style="color: #02FF02">&#39;figure&#39;</span>, <span style="color: #FFFFFF">orientation</span> <span style="color: #FF8000">=</span> <span style="color: #02FF02">&#39;landscape&#39;</span>,
                     <span style="color: #FFFFFF">transparent</span> <span style="color: #FF8000">=</span> <span style="color: #FF69B4">True</span> )

    <span style="color: #FF8000">def</span> <span style="color: #5E5EFF">tree</span>( <span style="color: #FF69B4">self</span>, <span style="color: #FFFFFF">node</span> ) :
        <span style="color: #02FF02">&#39;&#39;&#39; Graphs the tree &#39;&#39;&#39;</span>
        <span style="color: #DD0000"># Retrieving parent coordinate</span>
        <span style="color: #FF8000">if</span> <span style="color: #FFFFFF">node</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">parent</span> :
            <span style="color: #FFFFFF">xp</span>, <span style="color: #FFFFFF">yp</span> <span style="color: #FF8000">=</span> <span style="color: #FF69B4">self</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">coord</span>[ <span style="color: #FFFFFF">node</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">parent</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">number</span> ]
            <span style="color: #DD0000"># Generating child coordinate</span>
            <span style="color: #FFFFFF">breadth</span> <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">node</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">parent</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">children</span>
            <span style="color: #FFFFFF">yc</span> <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">yp</span> <span style="color: #FF8000">-</span> <span style="color: #FF00FF">1</span>
            <span style="color: #FFFFFF">xc</span> <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">node</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">count</span> <span style="color: #FF8000">+</span> <span style="color: #FF00FF">0.5</span> <span style="color: #FF8000">-</span> <span style="color: #FFFFFF">breadth</span> <span style="color: #FF8000">/</span> <span style="color: #FF00FF">2</span> \
                 <span style="color: #FF8000">if</span> <span style="color: #FFFFFF">breadth</span> <span style="color: #FF8000">%</span> <span style="color: #FF00FF">2</span> <span style="color: #FF8000">==</span> <span style="color: #FF00FF">0</span> \
                 <span style="color: #FF8000">else</span> <span style="color: #FFFFFF">node</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">count</span> <span style="color: #FF8000">-</span> <span style="color: #FFFFFF">breadth</span> <span style="color: #FF8000">//</span> <span style="color: #FF00FF">2</span>
            <span style="color: #FFFFFF">xc</span> <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">xp</span> <span style="color: #FF8000">+</span> <span style="color: #FFFFFF">xc</span> <span style="color: #FF8000">/</span> <span style="color: #FFFFFF">node</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">lineage</span>( <span style="color: #FFFFFF">node</span> )
        <span style="color: #FF8000">else</span> :
            <span style="color: #FFFFFF">xc</span>, <span style="color: #FFFFFF">yc</span> <span style="color: #FF8000">=</span> <span style="color: #FF00FF">0</span>, <span style="color: #FF00FF">0</span>
            <span style="color: #FFFFFF">xp</span>, <span style="color: #FFFFFF">yp</span> <span style="color: #FF8000">=</span> <span style="color: #FF00FF">0</span>, <span style="color: #FF00FF">0</span>
        <span style="color: #FF69B4">self</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">coord</span>[ <span style="color: #FFFFFF">node</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">number</span> ] <span style="color: #FF8000">=</span> ( <span style="color: #FFFFFF">xc</span>, <span style="color: #FFFFFF">yc</span> )
        <span style="color: #DD0000"># Retrieving path coordinates</span>
        <span style="color: #FFFFFF">path</span> <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">node</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">path</span>( <span style="color: #FFFFFF">node</span> )
        <span style="color: #FFFFFF">lbls</span> <span style="color: #FF8000">=</span> [ <span style="color: #FF69B4">str</span>( <span style="color: #FF69B4">list</span>( <span style="color: #FFFFFF">state</span> ) ) 
                 <span style="color: #FF8000">for</span> <span style="color: #FFFFFF">state</span> <span style="color: #FF8000">in</span> <span style="color: #FFFFFF">path</span>[ <span style="color: #02FF02">&#39;path&#39;</span> ] ]
        <span style="color: #FFFFFF">path</span> <span style="color: #FF8000">=</span> [ <span style="color: #FF69B4">self</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">coord</span>[ <span style="color: #FFFFFF">num</span> ] 
                 <span style="color: #FF8000">for</span> <span style="color: #FFFFFF">num</span> <span style="color: #FF8000">in</span> <span style="color: #FFFFFF">path</span>[ <span style="color: #02FF02">&#39;number&#39;</span> ] ]
        <span style="color: #FFFFFF">pack</span> <span style="color: #FF8000">=</span> <span style="color: #FF69B4">list</span>( <span style="color: #FF69B4">zip</span>( <span style="color: #FF8000">*</span><span style="color: #FFFFFF">path</span> ) )
        <span style="color: #DD0000"># Plotting the tree</span>
        <span style="color: #FFFFFF">effect</span> <span style="color: #FF8000">=</span> [ <span style="color: #FFFFFF">pe</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">Stroke</span>( <span style="color: #FFFFFF">linewidth</span> <span style="color: #FF8000">=</span> <span style="color: #FF00FF">5</span>, 
                              <span style="color: #FFFFFF">foreground</span> <span style="color: #FF8000">=</span> <span style="color: #02FF02">&#39;white&#39;</span> ), 
                   <span style="color: #FFFFFF">pe</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">Normal</span>() ]
        <span style="color: #DD0000"># Generating branch</span>
        <span style="color: #FFFFFF">branch</span> <span style="color: #FF8000">=</span> [ ( <span style="color: #FFFFFF">xp</span>, <span style="color: #FFFFFF">yp</span> ), ( <span style="color: #FFFFFF">xc</span>, <span style="color: #FFFFFF">yc</span> ) ]
        <span style="color: #FFFFFF">branch</span> <span style="color: #FF8000">=</span> <span style="color: #FF69B4">list</span>( <span style="color: #FF69B4">zip</span>( <span style="color: #FF8000">*</span><span style="color: #FFFFFF">branch</span> ) )
        <span style="color: #FF69B4">self</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">graph</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">extend</span>( <span style="color: #FFFFFF">branch</span> )
        <span style="color: #FFFFFF">plt</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">clf</span>() <span style="color: #DD0000"># Clear current figure</span>
        <span style="color: #FFFFFF">plt</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">plot</span>( <span style="color: #FF8000">*</span><span style="color: #FF69B4">self</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">graph</span>,
                  <span style="color: #FFFFFF">color</span> <span style="color: #FF8000">=</span> <span style="color: #02FF02">&#39;#02FF02&#39;</span>,
                  <span style="color: #FFFFFF">marker</span> <span style="color: #FF8000">=</span> <span style="color: #02FF02">&#39;o&#39;</span>, 
                  <span style="color: #FFFFFF">linewidth</span> <span style="color: #FF8000">=</span> <span style="color: #FF00FF">2</span>, 
                  <span style="color: #FFFFFF">markersize</span> <span style="color: #FF8000">=</span> <span style="color: #FF00FF">10</span>,
                  <span style="color: #FFFFFF">path_effects</span> <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">effect</span> )
        <span style="color: #DD0000"># Highlighting path</span>
        <span style="color: #FFFFFF">plt</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">plot</span>( <span style="color: #FF8000">*</span><span style="color: #FFFFFF">pack</span>,
                  <span style="color: #FFFFFF">color</span> <span style="color: #FF8000">=</span> <span style="color: #02FF02">&#39;#FF00FF&#39;</span>,
                  <span style="color: #FFFFFF">marker</span> <span style="color: #FF8000">=</span> <span style="color: #02FF02">&#39;o&#39;</span>, 
                  <span style="color: #FFFFFF">linewidth</span> <span style="color: #FF8000">=</span> <span style="color: #FF00FF">2</span>, 
                  <span style="color: #FFFFFF">markersize</span> <span style="color: #FF8000">=</span> <span style="color: #FF00FF">10</span>,
                  <span style="color: #FFFFFF">path_effects</span> <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">effect</span> )
        <span style="color: #DD0000"># Generating text</span>
        <span style="color: #FF8000">for</span> <span style="color: #FFFFFF">i</span> <span style="color: #FF8000">in</span> <span style="color: #FF69B4">range</span>( <span style="color: #FF69B4">len</span>( <span style="color: #FFFFFF">path</span> ) ):
            <span style="color: #FFFFFF">xl</span>, <span style="color: #FFFFFF">yl</span> <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">path</span>[ <span style="color: #FFFFFF">i</span> ] 
            <span style="color: #FFFFFF">plt</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">text</span>( <span style="color: #FFFFFF">xl</span>, <span style="color: #FFFFFF">yl</span> <span style="color: #FF8000">+</span> <span style="color: #FF00FF">0.5</span>, 
                      <span style="color: #FFFFFF">lbls</span>[ <span style="color: #FFFFFF">i</span> ],
                      <span style="color: #FFFFFF">color</span> <span style="color: #FF8000">=</span> <span style="color: #02FF02">&#39;white&#39;</span>,
                      <span style="color: #FFFFFF">fontsize</span> <span style="color: #FF8000">=</span> <span style="color: #FF00FF">15</span>,
                      <span style="color: #FFFFFF">bbox</span> <span style="color: #FF8000">=</span> <span style="color: #FF69B4">dict</span>( <span style="color: #FFFFFF">alpha</span> <span style="color: #FF8000">=</span> <span style="color: #FF00FF">0.9</span>,
                                   <span style="color: #FFFFFF">facecolor</span> <span style="color: #FF8000">=</span> <span style="color: #02FF02">&#39;#454545&#39;</span>,
                                   <span style="color: #FFFFFF">edgecolor</span> <span style="color: #FF8000">=</span>    <span style="color: #02FF02">&#39;none&#39;</span>,
                                   <span style="color: #FFFFFF">boxstyle</span>  <span style="color: #FF8000">=</span>   <span style="color: #02FF02">&#39;round&#39;</span> ),
                      <span style="color: #FFFFFF">verticalalignment</span> <span style="color: #FF8000">=</span> <span style="color: #02FF02">&#39;center&#39;</span>,
                      <span style="color: #FFFFFF">horizontalalignment</span> <span style="color: #FF8000">=</span> <span style="color: #02FF02">&#39;center&#39;</span> )
        <span style="color: #FFFFFF">plt</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">axis</span>( <span style="color: #02FF02">&#39;off&#39;</span> )
        <span style="color: #FFFFFF">plt</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">grid</span>( <span style="color: #FFFFFF">b</span> <span style="color: #FF8000">=</span> <span style="color: #FF69B4">None</span> )
        <span style="color: #FFFFFF">plt</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">savefig</span>( <span style="color: #02FF02">&#39;tree{}.png&#39;</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">format</span>( <span style="color: #FFFFFF">node</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">number</span> ),
                     <span style="color: #FFFFFF">dpi</span> <span style="color: #FF8000">=</span> <span style="color: #02FF02">&#39;figure&#39;</span>, <span style="color: #FFFFFF">orientation</span> <span style="color: #FF8000">=</span> <span style="color: #02FF02">&#39;landscape&#39;</span>,
                     <span style="color: #FFFFFF">transparent</span> <span style="color: #FF8000">=</span> <span style="color: #FF69B4">True</span> )
</pre></div>
</td></tr></table>
  </div>
  <h1 style="color:#02FF02">Breadth-First Search</h1>
  <p style="text-align:justify">
    This algorithm explores all of the nodes at the present depth prior to moving on to the next depth.
    In other words, breadth-first search explores paths of length 1 first, then all those of length 2, and so on.
    Therefore, if a solution exists, breadth-first search will find the shallowest goal state first, making it 
    complete and optimal. However, beadth-first search has an exponential time and space complexity bound,
    which means it is only practical for simple problems.
  </p>
  <h1 style="color:#02FF02">Breadth-First Search in Python</h1>
  <p style="text-align:justify">
    The algorithm is written using the classes above. A list containing explored nodes is used
    to avoid infinite loops, which can occur if a child node is identical to any of its parent nodes.
    The frontier contains all of the nodes to be expanded as a first-in-first-out (FIFO) queue.
  </p>
  <div style="height:300px; overflow:auto; font-family:courier">
 <table class="table"><tr><td><div class="linenodiv" style="background-color: #454545; padding-right: 10px"><pre style="line-height: 125%"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27</pre></div></td><td class="code"><div style="background: #002240"><pre style="line-height: 125%"><span></span><span style="color: #FF8000">def</span> <span style="color: #5E5EFF">breadth_first_search</span>( <span style="color: #FFFFFF">init</span>, <span style="color: #FFFFFF">goal</span>, <span style="color: #FFFFFF">m</span>, <span style="color: #FFFFFF">n</span> ) :
    <span style="color: #FFFFFF">graph</span> <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">Graph</span>()
    <span style="color: #FFFFFF">problem</span> <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">Problem</span>( <span style="color: #FFFFFF">init</span>, <span style="color: #FFFFFF">goal</span>, <span style="color: #FFFFFF">m</span>, <span style="color: #FFFFFF">n</span> )
    <span style="color: #FF8000">if</span> <span style="color: #FFFFFF">problem</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">goal_test</span>( <span style="color: #FFFFFF">init</span> ) : 
        <span style="color: #FF8000">return</span> <span style="color: #FFFFFF">init</span>
    <span style="color: #FFFFFF">count</span> <span style="color: #FF8000">=</span> <span style="color: #FF00FF">0</span>
    <span style="color: #FFFFFF">identity</span> <span style="color: #FF8000">=</span> <span style="color: #FF00FF">0</span>
    <span style="color: #FFFFFF">frontier</span> <span style="color: #FF8000">=</span> [ <span style="color: #FFFFFF">Node</span>( <span style="color: #FFFFFF">init</span> ) ]
    <span style="color: #FFFFFF">explored</span> <span style="color: #FF8000">=</span> []
    <span style="color: #FF8000">while</span> <span style="color: #FF69B4">True</span> :
        <span style="color: #FF8000">if</span> <span style="color: #FFFFFF">frontier</span> <span style="color: #FF8000">==</span> [] : <span style="color: #FF8000">return</span> <span style="color: #02FF02">&#39;Failure&#39;</span>
        <span style="color: #FFFFFF">node</span> <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">frontier</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">pop</span>( <span style="color: #FF00FF">0</span> ) <span style="color: #DD0000"># FIFO queue</span>
        <span style="color: #FFFFFF">graph</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">tree</span>( <span style="color: #FFFFFF">node</span> )
        <span style="color: #FFFFFF">graph</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">grid</span>( <span style="color: #FFFFFF">node</span>, <span style="color: #FFFFFF">m</span>, <span style="color: #FFFFFF">n</span> )
        <span style="color: #FF8000">if</span> <span style="color: #FFFFFF">problem</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">goal_test</span>( <span style="color: #FFFFFF">node</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">state</span> ) :
            <span style="color: #FF8000">return</span> <span style="color: #DD0000"># We&#39;re done</span>
        <span style="color: #FFFFFF">explored</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">append</span>( <span style="color: #FFFFFF">node</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">state</span> )
        <span style="color: #FF8000">for</span> <span style="color: #FFFFFF">state</span> <span style="color: #FF8000">in</span> <span style="color: #FFFFFF">problem</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">successor</span>( <span style="color: #FFFFFF">node</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">state</span> ) :
            <span style="color: #FFFFFF">child</span> <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">Node</span>( <span style="color: #FFFFFF">state</span>, <span style="color: #FFFFFF">parent</span> <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">node</span> )
            <span style="color: #FF8000">if</span> <span style="color: #FFFFFF">child</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">state</span> <span style="color: #FF8000">not</span> <span style="color: #FF8000">in</span> <span style="color: #FFFFFF">explored</span> :
                <span style="color: #FFFFFF">identity</span> <span style="color: #FF8000">+=</span> <span style="color: #FF00FF">1</span>
                <span style="color: #FFFFFF">node</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">children</span> <span style="color: #FF8000">+=</span> <span style="color: #FF00FF">1</span>
                <span style="color: #FFFFFF">child</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">count</span> <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">count</span>
                <span style="color: #FFFFFF">child</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">number</span> <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">identity</span>
                <span style="color: #FFFFFF">frontier</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">append</span>( <span style="color: #FFFFFF">child</span> )
                <span style="color: #FFFFFF">count</span> <span style="color: #FF8000">+=</span> <span style="color: #FF00FF">1</span>
        <span style="color: #FFFFFF">count</span> <span style="color: #FF8000">=</span> <span style="color: #FF00FF">0</span>
</pre></div>
</td></tr></table>
  </div>
  <h1 style="color:#02FF02">Examples</h1>
  <p style="text-align:justify">
    With only 1 robot on a 4 by 4 grid with an initial state [ ( 1, 1 ) ] and a goal state [ ( 4, 4 ) ],
    breadth-first search finds the path <br/> 
    [ ( 1, 1 ) ]  [ ( 1, 2 ) ]  [ ( 2, 2 ) ]  [ ( 3, 2 ) ]  [ ( 3, 3 ) ]  [ ( 4, 3 ) ]  [ ( 4, 4 ) ].
  </p>
  <p style="text-align:center"><img src="solution1.png"/></p>
  <p style="text-align:justify">
    The search process and path is animated below. The violet portion of the search tree shows the current path.
    The current path of the robot is also animated on the grid to the right of the tree. Even for a simple example
    like this, the tree generates a depth of 6 and 50 nodes before finding a solution.
  </p>
  <p style="text-align:center"><img src="BFS_1r.gif"/><img src="BFS_1r_grid.gif"/></p>
  <p style="text-align:justify">
    With 2 robots on a 2 by 3 grid with an initial state [ ( 1, 1 ), ( 2, 1 ) ] and a goal state [ ( 2, 3 ), ( 1, 3 ) ],
    breadth-first search finds the path <br/>
    [ ( 1, 1 ), ( 2, 1 ) ]  [ ( 2, 1 ), ( 2, 2 ) ]  [ ( 2, 2 ), ( 2, 3 ) ]  [ ( 2, 3 ), ( 1, 3 ) ].
  </p>
  <p style="text-align:center"><img src="solution2.png"/></p>
  <p style="text-align:justify">
    The search process and path is animated below. On the grid to the right of the tree, the path of robot 1 is
    highlighted in violet and the path of robot 2 is highlighted in orange. However, the solution is a single path
    containing both robots. The tree is shallower due to a shorter path length, but generates 94 nodes before finding a solution. 
    Due to the exponential time and space complexity of breadth-fist search, more complicated examples will not be entertained.
  </p>
  <p style="text-align:center"><img src="2x3_2r.gif"/><img src="2x3_2r_grid.gif"/></p>
  <h1 style="color:#02FF02">Depth-First Search</h1>
  <p style="text-align:justify">
    This alogirthm explores the deepest level of the tree first. When the search hits a leaf node, it backtracks up the tree and
    expands a shallower level node to the deepest level, and so on. Depth-first search has an exponential time complexity bound but
    may be faster than breadth-first search if the correct node is chosen at the start of the search, or if there are many solutions
    in the tree. Its space complexity is the product of the number of branches and depth of the tree. 
    Depth-first search is not complete, because it may not find a solution if the node it chooses to expand leads 
    to an infinite or very deep leaf node. It is also not optimal, because it does not garantee the shallowest goal state.
  </p>
  <h1 style="color:#02FF02">Depth-First Search in Python</h1>
  <p style="text-align:justify">
    The script is identical to breadth-fist search except the frontier is a last-in-first-out (LIFO) queue.
  </p>
  <div style="height:300px; overflow:auto; font-family:courier">
<table class="table"><tr><td><div class="linenodiv" style="background-color: #454545; padding-right: 10px"><pre style="line-height: 125%"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27</pre></div></td><td class="code"><div style="background: #002240"><pre style="line-height: 125%"><span></span><span style="color: #FF8000">def</span> <span style="color: #5E5EFF">depth_first_search</span>( <span style="color: #FFFFFF">init</span>, <span style="color: #FFFFFF">goal</span>, <span style="color: #FFFFFF">m</span>, <span style="color: #FFFFFF">n</span> ) :
    <span style="color: #FFFFFF">graph</span> <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">Graph</span>()
    <span style="color: #FFFFFF">problem</span> <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">Problem</span>( <span style="color: #FFFFFF">init</span>, <span style="color: #FFFFFF">goal</span>, <span style="color: #FFFFFF">m</span>, <span style="color: #FFFFFF">n</span> )
    <span style="color: #FF8000">if</span> <span style="color: #FFFFFF">problem</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">goal_test</span>( <span style="color: #FFFFFF">init</span> ) : 
        <span style="color: #FF8000">return</span> <span style="color: #FFFFFF">init</span>
    <span style="color: #FFFFFF">count</span> <span style="color: #FF8000">=</span> <span style="color: #FF00FF">0</span>
    <span style="color: #FFFFFF">identity</span> <span style="color: #FF8000">=</span> <span style="color: #FF00FF">0</span>
    <span style="color: #FFFFFF">frontier</span> <span style="color: #FF8000">=</span> [ <span style="color: #FFFFFF">Node</span>( <span style="color: #FFFFFF">init</span> ) ]
    <span style="color: #FFFFFF">explored</span> <span style="color: #FF8000">=</span> []
    <span style="color: #FF8000">while</span> <span style="color: #FF69B4">True</span> :
        <span style="color: #FF8000">if</span> <span style="color: #FFFFFF">frontier</span> <span style="color: #FF8000">==</span> [] : <span style="color: #FF8000">return</span> <span style="color: #02FF02">&#39;Failure&#39;</span>
        <span style="color: #FFFFFF">node</span> <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">frontier</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">pop</span>( <span style="color: #FF8000">-</span><span style="color: #FF00FF">1</span> ) <span style="color: #DD0000"># LIFO queue</span>
        <span style="color: #FFFFFF">graph</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">tree</span>( <span style="color: #FFFFFF">node</span> )
        <span style="color: #FFFFFF">graph</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">grid</span>( <span style="color: #FFFFFF">node</span>, <span style="color: #FFFFFF">m</span>, <span style="color: #FFFFFF">n</span> )
        <span style="color: #FF8000">if</span> <span style="color: #FFFFFF">problem</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">goal_test</span>( <span style="color: #FFFFFF">node</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">state</span> ) :
            <span style="color: #FF8000">return</span> <span style="color: #DD0000"># We&#39;re done</span>
        <span style="color: #FFFFFF">explored</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">append</span>( <span style="color: #FFFFFF">node</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">state</span> )
        <span style="color: #FF8000">for</span> <span style="color: #FFFFFF">state</span> <span style="color: #FF8000">in</span> <span style="color: #FFFFFF">problem</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">successor</span>( <span style="color: #FFFFFF">node</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">state</span> ) :
            <span style="color: #FFFFFF">child</span> <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">Node</span>( <span style="color: #FFFFFF">state</span>, <span style="color: #FFFFFF">parent</span> <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">node</span> )
            <span style="color: #FF8000">if</span> <span style="color: #FFFFFF">child</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">state</span> <span style="color: #FF8000">not</span> <span style="color: #FF8000">in</span> <span style="color: #FFFFFF">explored</span> :
                <span style="color: #FFFFFF">identity</span> <span style="color: #FF8000">+=</span> <span style="color: #FF00FF">1</span>
                <span style="color: #FFFFFF">node</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">children</span> <span style="color: #FF8000">+=</span> <span style="color: #FF00FF">1</span>
                <span style="color: #FFFFFF">child</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">count</span> <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">count</span>
                <span style="color: #FFFFFF">child</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">number</span> <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">identity</span>
                <span style="color: #FFFFFF">frontier</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">append</span>( <span style="color: #FFFFFF">child</span> )
                <span style="color: #FFFFFF">count</span> <span style="color: #FF8000">+=</span> <span style="color: #FF00FF">1</span>
        <span style="color: #FFFFFF">count</span> <span style="color: #FF8000">=</span> <span style="color: #FF00FF">0</span>
</pre></div>
</td></tr></table>
  </div>
  <h1 style="color:#02FF02">Examples</h1>
  <p style="text-align:justify">
    With only 1 robot on a 4 by 4 grid with an initial state [ ( 1, 1 ) ] and a goal state [ ( 4, 4 ) ],
    depth-first search finds the path <br/> 
    [ ( 1, 1 ) ]  [ ( 2, 1 ) ]  [ ( 3, 1 ) ]  [ ( 4, 1 ) ]  [ ( 4, 2 ) ]  [ ( 4, 3 ) ]  [ ( 4, 4 ) ].
  </p>
  <p style="text-align:center"><img src="solution3.png"/></p>
  <p style="text-align:justify">
    The search process and path is animated below. The search explored only 7 nodes before finding a solution.
    This solution is also optimal, because it is at the same depth as the shallowest goal state. The tree has many optimal solutions, 
    which makes depth-first search a good algorithm with 1 robot.
  </p>
  <p style="text-align:center"><img src="DFS_1r.gif"/><img src="DFS_1r_grid.gif"/></p>
  <p style="text-align:justify">
    With 2 robots on a 2 by 3 grid with an initial state [ ( 1, 1 ), ( 2, 1 ) ] and a goal state [ ( 2, 3 ), ( 1, 3 ) ],
    depth-first search finds the path <br/>
    [ ( 1, 1 ), ( 2, 1 ) ]  [ ( 1, 2 ), ( 2, 2 ) )  [ ( 1, 1 ), ( 2, 2 ) ]  [ ( 2, 1 ), ( 2, 2 ) ]  [ ( 2, 1 ), ( 2, 3 ) ] 
     [ ( 2, 1 ), ( 1, 3 ) ]  [ ( 1, 1 ), ( 1, 3 ) ]  [ ( 1, 2 ), ( 1, 3 ) ]  [ ( 2, 2 ), ( 1, 2 ) ]  [ ( 2, 1 ), ( 1, 1 ) ] 
     [ ( 2, 1 ), ( 1, 2 ) ]  [ ( 2, 2 ), ( 1, 3 ) ]  [ ( 2, 2 ), ( 2, 3 ) ]  [ ( 1, 2 ), ( 2, 3 ) ]  [ ( 1, 3 ), ( 2, 3 ) ] 
     [ ( 1, 3 ), ( 2, 2 ) ]  [ ( 2, 3 ), ( 2, 1 ) ]  [ ( 1, 3 ), ( 2, 1 ) ]  [ ( 1, 2 ), ( 1, 1 ) ]  [ ( 1, 3 ), ( 1, 1 ) ] 
     [ ( 2, 3 ), ( 1, 1 ) ]  [ ( 2, 2 ), ( 2, 1 ) ]  [ ( 2, 2 ), ( 1, 1 ) ]  [ ( 2, 3 ), ( 1, 2 ) ]  [ ( 1, 3 ), ( 1, 2 ) ] 
     [ ( 2, 3 ), ( 1, 3 ) ].
  </p>
  <p style="text-align:justify">
    The search process and path is animated below. Although only 26 nodes were generated to find a solution, the path is far from
    optimal.
  </p>
  <p style="text-align:center"><img src="DFS_2x3_2r.gif"/><img src="DFS_2x3_2r_grid.gif"/></p>
  <h1 style="color:#02FF02">Greedy Search</h1>
  <p style="text-align:justify">
    This algorithm chooses nodes that are determined to be closest to the goal state by a heuristic to expand first.
    The value of the heuristic for any node is called the pathcost for that node. The goal state should have a heuristic of zero.
    This algorithm finds solutions quickly, but does not always find the optimal solution. Like depth-first search, the algorithm
    tends to follow a single path all the way to the goal and backtracks up the tree and expands shallower nodes when it hits a
    dead end. Additionally, like depth-first search, greedy search is not complete or optimal for the same reasons. 
    Greedy search tends to significantly prune the search tree but has an exponential time and space complexity bound.
  </p>
  <h1 style="color:#02FF02">Greedy Search in Python</h1>
  <p style="text-align:justify">
    The script is identical to depth-fist search except the frontier is a priority queue that chooses nodes with the minimum
    pathcost to expand. The pathcost is determined by a heuristic function that calculates the modulus of the difference 
    between a state and the goal state.
  </p>
  <div style="height:300px; overflow:auto; font-family:courier">
 <table class="table"><tr><td><div class="linenodiv" style="background-color: #454545; padding-right: 10px"><pre style="line-height: 125%"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37</pre></div></td><td class="code"><div style="background: #002240"><pre style="line-height: 125%"><span></span><span style="color: #FF8000">def</span> <span style="color: #5E5EFF">greedy_search</span>( <span style="color: #FFFFFF">init</span>, <span style="color: #FFFFFF">goal</span>, <span style="color: #FFFFFF">m</span>, <span style="color: #FFFFFF">n</span> ) :
    <span style="color: #FF8000">def</span> <span style="color: #5E5EFF">heuristic</span>( <span style="color: #FFFFFF">state</span>, <span style="color: #FFFFFF">goal</span> ) :
        <span style="color: #FFFFFF">h</span> <span style="color: #FF8000">=</span> <span style="color: #FF00FF">0</span>
        <span style="color: #FF8000">for</span> <span style="color: #FFFFFF">i</span> <span style="color: #FF8000">in</span> <span style="color: #FF69B4">range</span>( <span style="color: #FF69B4">len</span>( <span style="color: #FFFFFF">state</span> ) ) :
            <span style="color: #FFFFFF">rj_loc</span>, <span style="color: #FFFFFF">rj_goal</span> <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">state</span>[ <span style="color: #FFFFFF">i</span> ], <span style="color: #FFFFFF">goal</span>[ <span style="color: #FFFFFF">i</span> ]
            <span style="color: #FFFFFF">xj</span>, <span style="color: #FFFFFF">yj</span> <span style="color: #FF8000">=</span>  <span style="color: #FFFFFF">rj_loc</span>[ <span style="color: #FF00FF">0</span> ],  <span style="color: #FFFFFF">rj_loc</span>[ <span style="color: #FF00FF">1</span> ]
            <span style="color: #FFFFFF">xg</span>, <span style="color: #FFFFFF">yg</span> <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">rj_goal</span>[ <span style="color: #FF00FF">0</span> ], <span style="color: #FFFFFF">rj_goal</span>[ <span style="color: #FF00FF">1</span> ]
            <span style="color: #FFFFFF">h</span> <span style="color: #FF8000">+=</span> ( ( <span style="color: #FFFFFF">xj</span> <span style="color: #FF8000">-</span> <span style="color: #FFFFFF">xg</span> )<span style="color: #FF8000">**</span><span style="color: #FF00FF">2</span> <span style="color: #FF8000">+</span> ( <span style="color: #FFFFFF">yj</span> <span style="color: #FF8000">-</span> <span style="color: #FFFFFF">yg</span> )<span style="color: #FF8000">**</span><span style="color: #FF00FF">2</span> )<span style="color: #FF8000">**</span><span style="color: #FF00FF">0.5</span>
        <span style="color: #FF8000">return</span> <span style="color: #FFFFFF">h</span>
    <span style="color: #FFFFFF">graph</span> <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">Graph</span>()
    <span style="color: #FFFFFF">problem</span> <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">Problem</span>( <span style="color: #FFFFFF">init</span>, <span style="color: #FFFFFF">goal</span>, <span style="color: #FFFFFF">m</span>, <span style="color: #FFFFFF">n</span> )
    <span style="color: #FF8000">if</span> <span style="color: #FFFFFF">problem</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">goal_test</span>( <span style="color: #FFFFFF">init</span> ) : 
        <span style="color: #FF8000">return</span> <span style="color: #FFFFFF">init</span>
    <span style="color: #FFFFFF">count</span> <span style="color: #FF8000">=</span> <span style="color: #FF00FF">0</span>
    <span style="color: #FFFFFF">identity</span> <span style="color: #FF8000">=</span> <span style="color: #FF00FF">0</span>
    <span style="color: #FFFFFF">frontier</span> <span style="color: #FF8000">=</span> [ <span style="color: #FFFFFF">Node</span>( <span style="color: #FFFFFF">init</span>, <span style="color: #FFFFFF">pathcost</span> <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">heuristic</span>( <span style="color: #FFFFFF">init</span>, <span style="color: #FFFFFF">goal</span> ) ) ]
    <span style="color: #FFFFFF">explored</span> <span style="color: #FF8000">=</span> []
    <span style="color: #FF8000">while</span> <span style="color: #FF69B4">True</span> :
        <span style="color: #FF8000">if</span> <span style="color: #FFFFFF">frontier</span> <span style="color: #FF8000">==</span> [] : <span style="color: #FF8000">return</span> <span style="color: #02FF02">&#39;Failure&#39;</span>
        <span style="color: #FFFFFF">cost</span> <span style="color: #FF8000">=</span> <span style="color: #FF69B4">list</span>( <span style="color: #FF69B4">map</span>( <span style="color: #FF8000">lambda</span> <span style="color: #FFFFFF">node</span> : <span style="color: #FFFFFF">node</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">pathcost</span>, <span style="color: #FFFFFF">frontier</span> ) )
        <span style="color: #FFFFFF">node</span> <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">frontier</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">pop</span>( <span style="color: #FFFFFF">cost</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">index</span>( <span style="color: #FF69B4">min</span>( <span style="color: #FFFFFF">cost</span> ) ) ) <span style="color: #DD0000"># Priority queue</span>
        <span style="color: #FFFFFF">graph</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">tree</span>( <span style="color: #FFFFFF">node</span> )
        <span style="color: #FFFFFF">graph</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">grid</span>( <span style="color: #FFFFFF">node</span>, <span style="color: #FFFFFF">m</span>, <span style="color: #FFFFFF">n</span> )
        <span style="color: #FF8000">if</span> <span style="color: #FFFFFF">problem</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">goal_test</span>( <span style="color: #FFFFFF">node</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">state</span> ) :
            <span style="color: #FF8000">return</span> <span style="color: #DD0000"># We&#39;re done</span>
        <span style="color: #FFFFFF">explored</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">append</span>( <span style="color: #FFFFFF">node</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">state</span> )
        <span style="color: #FF8000">for</span> <span style="color: #FFFFFF">state</span> <span style="color: #FF8000">in</span> <span style="color: #FFFFFF">problem</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">successor</span>( <span style="color: #FFFFFF">node</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">state</span> ) :
            <span style="color: #FFFFFF">child</span> <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">Node</span>( <span style="color: #FFFFFF">state</span>, <span style="color: #FFFFFF">parent</span> <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">node</span> )
            <span style="color: #FF8000">if</span> <span style="color: #FFFFFF">child</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">state</span> <span style="color: #FF8000">not</span> <span style="color: #FF8000">in</span> <span style="color: #FFFFFF">explored</span> :
                <span style="color: #FFFFFF">identity</span> <span style="color: #FF8000">+=</span> <span style="color: #FF00FF">1</span>
                <span style="color: #FFFFFF">node</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">children</span> <span style="color: #FF8000">+=</span> <span style="color: #FF00FF">1</span>
                <span style="color: #FFFFFF">child</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">count</span> <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">count</span>
                <span style="color: #FFFFFF">child</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">number</span> <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">identity</span>
                <span style="color: #FFFFFF">child</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">pathcost</span> <span style="color: #FF8000">=</span> <span style="color: #FFFFFF">heuristic</span>( <span style="color: #FFFFFF">child</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">state</span>, <span style="color: #FFFFFF">goal</span> )
                <span style="color: #FFFFFF">frontier</span><span style="color: #FF8000">.</span><span style="color: #FFFFFF">append</span>( <span style="color: #FFFFFF">child</span> )
                <span style="color: #FFFFFF">count</span> <span style="color: #FF8000">+=</span> <span style="color: #FF00FF">1</span>
        <span style="color: #FFFFFF">count</span> <span style="color: #FF8000">=</span> <span style="color: #FF00FF">0</span>
</pre></div>
</td></tr></table>
  </div>
  <h1 style="color:#02FF02">Examples</h1>
  <p style="text-align:justify">
    With only 1 robot on a 4 by 4 grid with an initial state [ ( 1, 1 ) ] and a goal state [ ( 4, 4 ) ],
    greedy search finds the path <br/> 
    [ ( 1, 1 ) ]  [ ( 1, 2 ) ]  [ ( 2, 2 ) ]  [ ( 3, 2 ) ]  [ ( 3, 3 ) ]  [ ( 4, 3 ) ]  [ ( 4, 4 ) ].
  </p>
  <p style="text-align:center"><img src="solution4.png"/></p>
  <p style="text-align:justify">
    The search process and path is animated below. Like depth-first search the algorithm 
    finds an optimal solution after exploring only 7 nodes.
  </p>
  <p style="text-align:center"><img src="greedy_1r.gif"/><img src="greedy_1r_grid.gif"/></p>
  <p style="text-align:justify">
    With 2 robots on a 2 by 3 grid with an initial state [ ( 1, 1 ), ( 2, 1 ) ] and a goal state [ ( 2, 3 ), ( 1, 3 ) ],
    greedy search finds the path <br/>
    [ ( 1, 1 ), ( 2, 1 ) ]  [ ( 1, 2 ), ( 2, 2 ) ]  [ ( 1, 3 ), ( 1, 2 ) ]  [ ( 2, 3 ), ( 1, 3 ) ].
    <p style="text-align:center"><img src="solution5.png"/></p>
  </p>
  <p style="text-align:justify">
    The search process and path is animated below. Unlike depth-first search, the greedy search
    finds an optimal solution after exploring only 4 nodes. 
    Because of the speed of this algorithm, more complex examples can be entertained.
    <p style="text-align:center"><img src="greedy_2x3_2r.gif"/><img src="greedy_2x3_2r_grid.gif"/></p>
  </p>
  <h1 style="color:#02FF02">A more Complex Example with Greedy Search</h1>
    With 8 robots on a 10 by 10 grid with an initial state
    [ (  1,  1 ), ( 10, 10 ), (  1, 10 ), ( 10,  1 ), (  1,  4 ), ( 10,  7 ), (  1,  7 ), ( 10,  4 ) ]
    and a goal state
    [ ( 10, 10 ), (  1,  1 ), ( 10,  1 ), (  1, 10 ), ( 10,  7 ), (  1,  4 ), ( 10,  4 ), (  1,  7 ) ],
    greedy search finds the path animated below after exploring 27 nodes. It is not known whether this path is optimal.<br/>
    <p style="text-align:center"><img src="solution6.png"/></p>
  </body>
</html>
